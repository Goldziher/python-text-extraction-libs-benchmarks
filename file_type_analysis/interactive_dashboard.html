<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File Type Performance Analysis - Interactive Dashboard</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f7fa;
            color: #333;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .controls {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .control-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        .control-group label {
            font-weight: 600;
            color: #555;
            font-size: 14px;
        }
        
        .control-group select {
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: white;
        }
        
        .chart-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .chart-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .chart-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            color: #333;
        }
        
        .summary-stats {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .stat-card {
            background: rgba(255, 255, 255, 0.15);
            padding: 15px;
            border-radius: 6px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 14px;
            opacity: 0.9;
        }
        
        @media (max-width: 768px) {
            .chart-grid {
                grid-template-columns: 1fr;
            }
            
            .controls {
                flex-direction: column;
                align-items: stretch;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ðŸ“Š File Type Performance Analysis</h1>
        <p>Interactive dashboard for text extraction framework comparison by file type</p>
    </div>

    <div class="summary-stats">
        <h2>ðŸ“ˆ Summary Statistics</h2>
        <div class="stats-grid" id="summaryStats">
            <!-- Will be populated by JavaScript -->
        </div>
    </div>

    <div class="controls">
        <div class="control-group">
            <label for="metricSelect">Primary Metric</label>
            <select id="metricSelect">
                <option value="success_rate">Success Rate (%)</option>
                <option value="files_per_second">Speed (files/sec)</option>
                <option value="avg_memory_mb">Memory Usage (MB)</option>
                <option value="avg_extraction_time">Extraction Time (sec)</option>
            </select>
        </div>
        
        <div class="control-group">
            <label for="frameworkFilter">Framework Filter</label>
            <select id="frameworkFilter">
                <option value="all">All Frameworks</option>
            </select>
        </div>
        
        <div class="control-group">
            <label for="fileTypeFilter">File Type Filter</label>
            <select id="fileTypeFilter">
                <option value="all">All File Types</option>
            </select>
        </div>
        
        <div class="control-group">
            <label for="minSuccessRate">Min Success Rate (%)</label>
            <select id="minSuccessRate">
                <option value="0">0%</option>
                <option value="50">50%</option>
                <option value="75" selected>75%</option>
                <option value="90">90%</option>
                <option value="95">95%</option>
            </select>
        </div>
    </div>

    <div class="chart-grid">
        <div class="chart-container">
            <div class="chart-title">Performance Heatmap</div>
            <div id="heatmapChart" style="height: 500px;"></div>
        </div>
        
        <div class="chart-container">
            <div class="chart-title">Framework Comparison</div>
            <div id="barChart" style="height: 500px;"></div>
        </div>
    </div>

    <div class="chart-grid">
        <div class="chart-container">
            <div class="chart-title">Speed vs Success Rate</div>
            <div id="scatterChart" style="height: 500px;"></div>
        </div>
        
        <div class="chart-container">
            <div class="chart-title">Memory Efficiency</div>
            <div id="memoryChart" style="height: 500px;"></div>
        </div>
    </div>

    <div class="chart-container">
        <div class="chart-title">Detailed File Type Analysis</div>
        <div id="detailedChart" style="height: 600px;"></div>
    </div>

    <script>
        // Data from Python
        const data = {
  "summary": [
    {
      "file_type": "json",
      "framework": "kreuzberg_async",
      "total_files": 10,
      "success_rate": 0.0,
      "avg_extraction_time": 0,
      "avg_memory_mb": 0,
      "files_per_second": 0,
      "avg_chars_per_file": 0,
      "avg_words_per_file": 0,
      "successful_files": 0,
      "failed_files": 10
    },
    {
      "file_type": "json",
      "framework": "kreuzberg_sync",
      "total_files": 10,
      "success_rate": 0.0,
      "avg_extraction_time": 0,
      "avg_memory_mb": 0,
      "files_per_second": 0,
      "avg_chars_per_file": 0,
      "avg_words_per_file": 0,
      "successful_files": 0,
      "failed_files": 10
    },
    {
      "file_type": "json",
      "framework": "extractous",
      "total_files": 6,
      "success_rate": 100.0,
      "avg_extraction_time": 0.04281123479207357,
      "avg_memory_mb": 471.80078125,
      "files_per_second": 23.35835452672223,
      "avg_chars_per_file": 4448.0,
      "avg_words_per_file": 234.0,
      "successful_files": 6,
      "failed_files": 0
    },
    {
      "file_type": "yaml",
      "framework": "kreuzberg_async",
      "total_files": 10,
      "success_rate": 0.0,
      "avg_extraction_time": 0,
      "avg_memory_mb": 0,
      "files_per_second": 0,
      "avg_chars_per_file": 0,
      "avg_words_per_file": 0,
      "successful_files": 0,
      "failed_files": 10
    },
    {
      "file_type": "yaml",
      "framework": "kreuzberg_sync",
      "total_files": 10,
      "success_rate": 0.0,
      "avg_extraction_time": 0,
      "avg_memory_mb": 0,
      "files_per_second": 0,
      "avg_chars_per_file": 0,
      "avg_words_per_file": 0,
      "successful_files": 0,
      "failed_files": 10
    },
    {
      "file_type": "yaml",
      "framework": "extractous",
      "total_files": 6,
      "success_rate": 100.0,
      "avg_extraction_time": 0.042433738708496094,
      "avg_memory_mb": 471.80078125,
      "files_per_second": 23.566153500393302,
      "avg_chars_per_file": 319.0,
      "avg_words_per_file": 44.0,
      "successful_files": 6,
      "failed_files": 0
    },
    {
      "file_type": "xlsx",
      "framework": "kreuzberg_async",
      "total_files": 16,
      "success_rate": 100.0,
      "avg_extraction_time": 0.026160895824432373,
      "avg_memory_mb": 0.0,
      "files_per_second": 38.224990715573,
      "avg_chars_per_file": 715.125,
      "avg_words_per_file": 239.25,
      "successful_files": 16,
      "failed_files": 0
    },
    {
      "file_type": "xlsx",
      "framework": "kreuzberg_sync",
      "total_files": 16,
      "success_rate": 100.0,
      "avg_extraction_time": 0.000549018383026123,
      "avg_memory_mb": 246.28076171875,
      "files_per_second": 1821.4326348930626,
      "avg_chars_per_file": 715.125,
      "avg_words_per_file": 239.25,
      "successful_files": 16,
      "failed_files": 0
    },
    {
      "file_type": "xlsx",
      "framework": "extractous",
      "total_files": 6,
      "success_rate": 100.0,
      "avg_extraction_time": 0.050624450047810875,
      "avg_memory_mb": 471.80078125,
      "files_per_second": 19.75330100486183,
      "avg_chars_per_file": 225.0,
      "avg_words_per_file": 40.0,
      "successful_files": 6,
      "failed_files": 0
    },
    {
      "file_type": "csv",
      "framework": "kreuzberg_async",
      "total_files": 4,
      "success_rate": 100.0,
      "avg_extraction_time": 0.03500354290008545,
      "avg_memory_mb": 0.0,
      "files_per_second": 28.568536700825184,
      "avg_chars_per_file": 124.0,
      "avg_words_per_file": 19.0,
      "successful_files": 4,
      "failed_files": 0
    },
    {
      "file_type": "csv",
      "framework": "kreuzberg_sync",
      "total_files": 4,
      "success_rate": 100.0,
      "avg_extraction_time": 0.0873490571975708,
      "avg_memory_mb": 249.8203125,
      "files_per_second": 11.44832047515002,
      "avg_chars_per_file": 124.0,
      "avg_words_per_file": 19.0,
      "successful_files": 4,
      "failed_files": 0
    },
    {
      "file_type": "docx",
      "framework": "kreuzberg_async",
      "total_files": 132,
      "success_rate": 36.36363636363637,
      "avg_extraction_time": 0.02484026551246643,
      "avg_memory_mb": 0.0,
      "files_per_second": 40.2572186476081,
      "avg_chars_per_file": 1222.9166666666667,
      "avg_words_per_file": 159.08333333333334,
      "successful_files": 48,
      "failed_files": 84
    },
    {
      "file_type": "docx",
      "framework": "kreuzberg_sync",
      "total_files": 132,
      "success_rate": 36.36363636363637,
      "avg_extraction_time": 0.04856677850087484,
      "avg_memory_mb": 250.44921875,
      "files_per_second": 20.590206533504933,
      "avg_chars_per_file": 1222.9166666666667,
      "avg_words_per_file": 159.08333333333334,
      "successful_files": 48,
      "failed_files": 84
    },
    {
      "file_type": "docx",
      "framework": "extractous",
      "total_files": 72,
      "success_rate": 83.33333333333334,
      "avg_extraction_time": 0.07788463433583577,
      "avg_memory_mb": 470.511328125,
      "files_per_second": 12.839503048676272,
      "avg_chars_per_file": 815.2,
      "avg_words_per_file": 125.5,
      "successful_files": 60,
      "failed_files": 12
    },
    {
      "file_type": "pptx",
      "framework": "kreuzberg_async",
      "total_files": 40,
      "success_rate": 100.0,
      "avg_extraction_time": 0.0041697978973388675,
      "avg_memory_mb": 0.0,
      "files_per_second": 239.81977655036764,
      "avg_chars_per_file": 421.5,
      "avg_words_per_file": 41.75,
      "successful_files": 40,
      "failed_files": 0
    },
    {
      "file_type": "pptx",
      "framework": "kreuzberg_sync",
      "total_files": 40,
      "success_rate": 100.0,
      "avg_extraction_time": 0.0027542352676391602,
      "avg_memory_mb": 245.63203125,
      "files_per_second": 363.07718942876187,
      "avg_chars_per_file": 421.5,
      "avg_words_per_file": 41.75,
      "successful_files": 40,
      "failed_files": 0
    },
    {
      "file_type": "pptx",
      "framework": "extractous",
      "total_files": 24,
      "success_rate": 100.0,
      "avg_extraction_time": 0.2802659869194031,
      "avg_memory_mb": 471.17578125,
      "files_per_second": 3.568039100968656,
      "avg_chars_per_file": 237.5,
      "avg_words_per_file": 40.0,
      "successful_files": 24,
      "failed_files": 0
    },
    {
      "file_type": "msg",
      "framework": "kreuzberg_async",
      "total_files": 20,
      "success_rate": 0.0,
      "avg_extraction_time": 0,
      "avg_memory_mb": 0,
      "files_per_second": 0,
      "avg_chars_per_file": 0,
      "avg_words_per_file": 0,
      "successful_files": 0,
      "failed_files": 20
    },
    {
      "file_type": "msg",
      "framework": "kreuzberg_sync",
      "total_files": 20,
      "success_rate": 0.0,
      "avg_extraction_time": 0,
      "avg_memory_mb": 0,
      "files_per_second": 0,
      "avg_chars_per_file": 0,
      "avg_words_per_file": 0,
      "successful_files": 0,
      "failed_files": 20
    },
    {
      "file_type": "msg",
      "framework": "extractous",
      "total_files": 12,
      "success_rate": 100.0,
      "avg_extraction_time": 0.043533643086751304,
      "avg_memory_mb": 471.5032552083333,
      "files_per_second": 22.970740078133556,
      "avg_chars_per_file": 265.5,
      "avg_words_per_file": 34.0,
      "successful_files": 12,
      "failed_files": 0
    },
    {
      "file_type": "xls",
      "framework": "kreuzberg_async",
      "total_files": 10,
      "success_rate": 100.0,
      "avg_extraction_time": 0.05632162094116211,
      "avg_memory_mb": 0.0,
      "files_per_second": 17.75517080811074,
      "avg_chars_per_file": 1667.0,
      "avg_words_per_file": 368.0,
      "successful_files": 10,
      "failed_files": 0
    },
    {
      "file_type": "xls",
      "framework": "kreuzberg_sync",
      "total_files": 10,
      "success_rate": 100.0,
      "avg_extraction_time": 0.0005584716796875,
      "avg_memory_mb": 245.6109375,
      "files_per_second": 1790.6010928961748,
      "avg_chars_per_file": 1667.0,
      "avg_words_per_file": 368.0,
      "successful_files": 10,
      "failed_files": 0
    },
    {
      "file_type": "xls",
      "framework": "extractous",
      "total_files": 6,
      "success_rate": 100.0,
      "avg_extraction_time": 0.2113495667775472,
      "avg_memory_mb": 471.9322916666667,
      "files_per_second": 4.731497751554584,
      "avg_chars_per_file": 1324.0,
      "avg_words_per_file": 176.0,
      "successful_files": 6,
      "failed_files": 0
    },
    {
      "file_type": "odt",
      "framework": "kreuzberg_async",
      "total_files": 20,
      "success_rate": 40.0,
      "avg_extraction_time": 0.02987438440322876,
      "avg_memory_mb": 0.0,
      "files_per_second": 33.47349309369943,
      "avg_chars_per_file": 185.5,
      "avg_words_per_file": 32.5,
      "successful_files": 8,
      "failed_files": 12
    },
    {
      "file_type": "odt",
      "framework": "kreuzberg_sync",
      "total_files": 20,
      "success_rate": 40.0,
      "avg_extraction_time": 0.044836997985839844,
      "avg_memory_mb": 250.66015625,
      "files_per_second": 22.303009677762414,
      "avg_chars_per_file": 185.5,
      "avg_words_per_file": 32.5,
      "successful_files": 8,
      "failed_files": 12
    },
    {
      "file_type": "odt",
      "framework": "extractous",
      "total_files": 12,
      "success_rate": 100.0,
      "avg_extraction_time": 0.13502820332845053,
      "avg_memory_mb": 471.3098958333333,
      "files_per_second": 7.405860222901294,
      "avg_chars_per_file": 191.5,
      "avg_words_per_file": 30.5,
      "successful_files": 12,
      "failed_files": 0
    },
    {
      "file_type": "eml",
      "framework": "kreuzberg_async",
      "total_files": 10,
      "success_rate": 0.0,
      "avg_extraction_time": 0,
      "avg_memory_mb": 0,
      "files_per_second": 0,
      "avg_chars_per_file": 0,
      "avg_words_per_file": 0,
      "successful_files": 0,
      "failed_files": 10
    },
    {
      "file_type": "eml",
      "framework": "kreuzberg_sync",
      "total_files": 10,
      "success_rate": 0.0,
      "avg_extraction_time": 0,
      "avg_memory_mb": 0,
      "files_per_second": 0,
      "avg_chars_per_file": 0,
      "avg_words_per_file": 0,
      "successful_files": 0,
      "failed_files": 10
    },
    {
      "file_type": "eml",
      "framework": "extractous",
      "total_files": 6,
      "success_rate": 100.0,
      "avg_extraction_time": 0.07957760492960612,
      "avg_memory_mb": 465.7552083333333,
      "files_per_second": 12.566349551291397,
      "avg_chars_per_file": 106.0,
      "avg_words_per_file": 18.0,
      "successful_files": 6,
      "failed_files": 0
    },
    {
      "file_type": "pdf_scanned",
      "framework": "kreuzberg_async",
      "total_files": 40,
      "success_rate": 100.0,
      "avg_extraction_time": 0.2896761178970337,
      "avg_memory_mb": 0.0,
      "files_per_second": 3.4521313225947514,
      "avg_chars_per_file": 0,
      "avg_words_per_file": 0,
      "successful_files": 40,
      "failed_files": 0
    },
    {
      "file_type": "pdf_scanned",
      "framework": "kreuzberg_sync",
      "total_files": 40,
      "success_rate": 100.0,
      "avg_extraction_time": 0.13071162700653077,
      "avg_memory_mb": 265.0828125,
      "files_per_second": 7.650428832547825,
      "avg_chars_per_file": 0,
      "avg_words_per_file": 0,
      "successful_files": 40,
      "failed_files": 0
    },
    {
      "file_type": "pdf_scanned",
      "framework": "extractous",
      "total_files": 24,
      "success_rate": 100.0,
      "avg_extraction_time": 1.9516448775927226,
      "avg_memory_mb": 565.3238932291666,
      "files_per_second": 0.5123882994704758,
      "avg_chars_per_file": 100.0,
      "avg_words_per_file": 15.25,
      "successful_files": 24,
      "failed_files": 0
    },
    {
      "file_type": "jpeg",
      "framework": "kreuzberg_async",
      "total_files": 20,
      "success_rate": 100.0,
      "avg_extraction_time": 0.0442622184753418,
      "avg_memory_mb": 0.0,
      "files_per_second": 22.592631694615434,
      "avg_chars_per_file": 0,
      "avg_words_per_file": 0,
      "successful_files": 20,
      "failed_files": 0
    },
    {
      "file_type": "jpeg",
      "framework": "kreuzberg_sync",
      "total_files": 20,
      "success_rate": 100.0,
      "avg_extraction_time": 0.03435938358306885,
      "avg_memory_mb": 263.4296875,
      "files_per_second": 29.1041309743626,
      "avg_chars_per_file": 0,
      "avg_words_per_file": 0,
      "successful_files": 20,
      "failed_files": 0
    },
    {
      "file_type": "jpeg",
      "framework": "extractous",
      "total_files": 12,
      "success_rate": 100.0,
      "avg_extraction_time": 0.4716426531473796,
      "avg_memory_mb": 504.2903645833333,
      "files_per_second": 2.120249289004654,
      "avg_chars_per_file": 135.5,
      "avg_words_per_file": 33.5,
      "successful_files": 12,
      "failed_files": 0
    },
    {
      "file_type": "jpg",
      "framework": "kreuzberg_async",
      "total_files": 16,
      "success_rate": 100.0,
      "avg_extraction_time": 0.0477924644947052,
      "avg_memory_mb": 0.0,
      "files_per_second": 20.923800657126343,
      "avg_chars_per_file": 0,
      "avg_words_per_file": 0,
      "successful_files": 16,
      "failed_files": 0
    },
    {
      "file_type": "jpg",
      "framework": "kreuzberg_sync",
      "total_files": 16,
      "success_rate": 100.0,
      "avg_extraction_time": 0.04718586802482605,
      "avg_memory_mb": 259.9130859375,
      "files_per_second": 21.192785930606743,
      "avg_chars_per_file": 0,
      "avg_words_per_file": 0,
      "successful_files": 16,
      "failed_files": 0
    },
    {
      "file_type": "jpg",
      "framework": "extractous",
      "total_files": 6,
      "success_rate": 0.0,
      "avg_extraction_time": 0,
      "avg_memory_mb": 0,
      "files_per_second": 0,
      "avg_chars_per_file": 0,
      "avg_words_per_file": 0,
      "successful_files": 0,
      "failed_files": 6
    },
    {
      "file_type": "md",
      "framework": "kreuzberg_async",
      "total_files": 62,
      "success_rate": 100.0,
      "avg_extraction_time": 0.0032540059858752837,
      "avg_memory_mb": 0.0,
      "files_per_second": 307.31350966799573,
      "avg_chars_per_file": 129705.7741935484,
      "avg_words_per_file": 7583.709677419355,
      "successful_files": 62,
      "failed_files": 0
    },
    {
      "file_type": "md",
      "framework": "kreuzberg_sync",
      "total_files": 62,
      "success_rate": 100.0,
      "avg_extraction_time": 0.0005791264195596018,
      "avg_memory_mb": 257.78175403225805,
      "files_per_second": 1726.7386985391765,
      "avg_chars_per_file": 129705.7741935484,
      "avg_words_per_file": 7583.709677419355,
      "successful_files": 62,
      "failed_files": 0
    },
    {
      "file_type": "md",
      "framework": "extractous",
      "total_files": 30,
      "success_rate": 100.0,
      "avg_extraction_time": 0.042502975463867186,
      "avg_memory_mb": 464.49921875,
      "files_per_second": 23.527764564392072,
      "avg_chars_per_file": 26400.4,
      "avg_words_per_file": 1391.4,
      "successful_files": 30,
      "failed_files": 0
    },
    {
      "file_type": "org",
      "framework": "kreuzberg_async",
      "total_files": 10,
      "success_rate": 40.0,
      "avg_extraction_time": 0.040093421936035156,
      "avg_memory_mb": 0.0,
      "files_per_second": 24.941747341880546,
      "avg_chars_per_file": 847.0,
      "avg_words_per_file": 136.0,
      "successful_files": 4,
      "failed_files": 6
    },
    {
      "file_type": "org",
      "framework": "kreuzberg_sync",
      "total_files": 10,
      "success_rate": 40.0,
      "avg_extraction_time": 0.056099534034729004,
      "avg_memory_mb": 287.765625,
      "files_per_second": 17.825460000807485,
      "avg_chars_per_file": 847.0,
      "avg_words_per_file": 136.0,
      "successful_files": 4,
      "failed_files": 6
    },
    {
      "file_type": "org",
      "framework": "extractous",
      "total_files": 6,
      "success_rate": 100.0,
      "avg_extraction_time": 0.04172229766845703,
      "avg_memory_mb": 464.6171875,
      "files_per_second": 23.96799926855471,
      "avg_chars_per_file": 890.0,
      "avg_words_per_file": 136.0,
      "successful_files": 6,
      "failed_files": 0
    },
    {
      "file_type": "rst",
      "framework": "kreuzberg_async",
      "total_files": 10,
      "success_rate": 40.0,
      "avg_extraction_time": 0.039820075035095215,
      "avg_memory_mb": 0.0,
      "files_per_second": 25.112961216638976,
      "avg_chars_per_file": 857.0,
      "avg_words_per_file": 136.0,
      "successful_files": 4,
      "failed_files": 6
    },
    {
      "file_type": "rst",
      "framework": "kreuzberg_sync",
      "total_files": 10,
      "success_rate": 40.0,
      "avg_extraction_time": 0.055987000465393066,
      "avg_memory_mb": 287.8046875,
      "files_per_second": 17.86128907938414,
      "avg_chars_per_file": 857.0,
      "avg_words_per_file": 136.0,
      "successful_files": 4,
      "failed_files": 6
    },
    {
      "file_type": "rst",
      "framework": "extractous",
      "total_files": 6,
      "success_rate": 100.0,
      "avg_extraction_time": 0.042295217514038086,
      "avg_memory_mb": 464.1796875,
      "files_per_second": 23.643335080806544,
      "avg_chars_per_file": 904.0,
      "avg_words_per_file": 134.0,
      "successful_files": 6,
      "failed_files": 0
    },
    {
      "file_type": "html",
      "framework": "kreuzberg_async",
      "total_files": 94,
      "success_rate": 100.0,
      "avg_extraction_time": 0.18498965527148956,
      "avg_memory_mb": 0.0,
      "files_per_second": 5.40570767880186,
      "avg_chars_per_file": 320513.91489361704,
      "avg_words_per_file": 23169.36170212766,
      "successful_files": 94,
      "failed_files": 0
    },
    {
      "file_type": "html",
      "framework": "kreuzberg_sync",
      "total_files": 94,
      "success_rate": 100.0,
      "avg_extraction_time": 0.18541437007011252,
      "avg_memory_mb": 265.6938164893617,
      "files_per_second": 5.393325229440741,
      "avg_chars_per_file": 320513.91489361704,
      "avg_words_per_file": 23169.36170212766,
      "successful_files": 94,
      "failed_files": 0
    },
    {
      "file_type": "html",
      "framework": "extractous",
      "total_files": 6,
      "success_rate": 100.0,
      "avg_extraction_time": 0.05070869127909342,
      "avg_memory_mb": 471.296875,
      "files_per_second": 19.720485281233987,
      "avg_chars_per_file": 8691.0,
      "avg_words_per_file": 981.0,
      "successful_files": 6,
      "failed_files": 0
    },
    {
      "file_type": "pdf",
      "framework": "kreuzberg_async",
      "total_files": 140,
      "success_rate": 100.0,
      "avg_extraction_time": 0.08270292622702462,
      "avg_memory_mb": 0.0,
      "files_per_second": 12.091470587811349,
      "avg_chars_per_file": 180165.42857142858,
      "avg_words_per_file": 31996.242857142857,
      "successful_files": 140,
      "failed_files": 0
    },
    {
      "file_type": "pdf",
      "framework": "kreuzberg_sync",
      "total_files": 140,
      "success_rate": 100.0,
      "avg_extraction_time": 0.1057663985661098,
      "avg_memory_mb": 263.01863839285716,
      "files_per_second": 9.454798627514439,
      "avg_chars_per_file": 180074.3142857143,
      "avg_words_per_file": 31905.128571428573,
      "successful_files": 140,
      "failed_files": 0
    },
    {
      "file_type": "pdf",
      "framework": "extractous",
      "total_files": 30,
      "success_rate": 100.0,
      "avg_extraction_time": 0.06261359850565593,
      "avg_memory_mb": 479.3481770833333,
      "files_per_second": 15.97097154397969,
      "avg_chars_per_file": 12664.6,
      "avg_words_per_file": 2094.4,
      "successful_files": 30,
      "failed_files": 0
    },
    {
      "file_type": "txt",
      "framework": "kreuzberg_async",
      "total_files": 40,
      "success_rate": 100.0,
      "avg_extraction_time": 0.0659501314163208,
      "avg_memory_mb": 0.0,
      "files_per_second": 15.162972059711894,
      "avg_chars_per_file": 13445.5,
      "avg_words_per_file": 1894.0,
      "successful_files": 40,
      "failed_files": 0
    },
    {
      "file_type": "txt",
      "framework": "kreuzberg_sync",
      "total_files": 40,
      "success_rate": 100.0,
      "avg_extraction_time": 0.00037376880645751954,
      "avg_memory_mb": 263.7609375,
      "files_per_second": 2675.450660202845,
      "avg_chars_per_file": 13328.5,
      "avg_words_per_file": 1894.0,
      "successful_files": 40,
      "failed_files": 0
    },
    {
      "file_type": "txt",
      "framework": "extractous",
      "total_files": 24,
      "success_rate": 100.0,
      "avg_extraction_time": 0.044581075509389244,
      "avg_memory_mb": 471.4235026041667,
      "files_per_second": 22.43104251240842,
      "avg_chars_per_file": 13329.5,
      "avg_words_per_file": 1894.0,
      "successful_files": 24,
      "failed_files": 0
    },
    {
      "file_type": "epub",
      "framework": "kreuzberg_async",
      "total_files": 6,
      "success_rate": 0.0,
      "avg_extraction_time": 0,
      "avg_memory_mb": 0,
      "files_per_second": 0,
      "avg_chars_per_file": 0,
      "avg_words_per_file": 0,
      "successful_files": 0,
      "failed_files": 6
    },
    {
      "file_type": "epub",
      "framework": "kreuzberg_sync",
      "total_files": 6,
      "success_rate": 0.0,
      "avg_extraction_time": 0,
      "avg_memory_mb": 0,
      "files_per_second": 0,
      "avg_chars_per_file": 0,
      "avg_words_per_file": 0,
      "successful_files": 0,
      "failed_files": 6
    },
    {
      "file_type": "png",
      "framework": "kreuzberg_async",
      "total_files": 12,
      "success_rate": 100.0,
      "avg_extraction_time": 0.09237853686014812,
      "avg_memory_mb": 0.0,
      "files_per_second": 10.825025314201502,
      "avg_chars_per_file": 0,
      "avg_words_per_file": 0,
      "successful_files": 12,
      "failed_files": 0
    },
    {
      "file_type": "png",
      "framework": "kreuzberg_sync",
      "total_files": 12,
      "success_rate": 100.0,
      "avg_extraction_time": 0.09097683429718018,
      "avg_memory_mb": 257.46875,
      "files_per_second": 10.991809153673694,
      "avg_chars_per_file": 0,
      "avg_words_per_file": 0,
      "successful_files": 12,
      "failed_files": 0
    },
    {
      "file_type": "bmp",
      "framework": "kreuzberg_async",
      "total_files": 6,
      "success_rate": 100.0,
      "avg_extraction_time": 0.030716419219970703,
      "avg_memory_mb": 0.0,
      "files_per_second": 32.55587810671096,
      "avg_chars_per_file": 0,
      "avg_words_per_file": 0,
      "successful_files": 6,
      "failed_files": 0
    },
    {
      "file_type": "bmp",
      "framework": "kreuzberg_sync",
      "total_files": 6,
      "success_rate": 100.0,
      "avg_extraction_time": 0.029810349146525066,
      "avg_memory_mb": 257.46875,
      "files_per_second": 33.54539710637935,
      "avg_chars_per_file": 0,
      "avg_words_per_file": 0,
      "successful_files": 6,
      "failed_files": 0
    }
  ],
  "file_types": [
    "json",
    "yaml",
    "xlsx",
    "csv",
    "docx",
    "pptx",
    "msg",
    "xls",
    "odt",
    "eml",
    "pdf_scanned",
    "jpeg",
    "jpg",
    "md",
    "org",
    "rst",
    "html",
    "pdf",
    "txt",
    "epub",
    "png",
    "bmp"
  ],
  "frameworks": [
    "kreuzberg_async",
    "extractous",
    "kreuzberg_sync"
  ],
  "metrics": {
    "success_rate": "Success Rate (%)",
    "files_per_second": "Speed (files/sec)",
    "avg_memory_mb": "Memory Usage (MB)",
    "avg_extraction_time": "Extraction Time (seconds)"
  }
};
        
        // Global state
        let currentMetric = 'success_rate';
        let frameworkFilter = 'all';
        let fileTypeFilter = 'all';
        let minSuccessRate = 75;
        
        // Initialize dashboard
        document.addEventListener('DOMContentLoaded', function() {
            initializeControls();
            updateSummaryStats();
            updateAllCharts();
            setupEventListeners();
        });
        
        function initializeControls() {
            // Populate framework filter
            const frameworkSelect = document.getElementById('frameworkFilter');
            data.frameworks.forEach(fw => {
                const option = document.createElement('option');
                option.value = fw;
                option.textContent = fw.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase());
                frameworkSelect.appendChild(option);
            });
            
            // Populate file type filter
            const fileTypeSelect = document.getElementById('fileTypeFilter');
            data.file_types.forEach(ft => {
                const option = document.createElement('option');
                option.value = ft;
                option.textContent = ft.toUpperCase();
                fileTypeSelect.appendChild(option);
            });
        }
        
        function updateSummaryStats() {
            const filtered = getFilteredData();
            const stats = calculateSummaryStats(filtered);
            
            const summaryDiv = document.getElementById('summaryStats');
            summaryDiv.innerHTML = `
                <div class="stat-card">
                    <div class="stat-value">${stats.totalFiles}</div>
                    <div class="stat-label">Total Files Tested</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">${stats.avgSuccessRate.toFixed(1)}%</div>
                    <div class="stat-label">Average Success Rate</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">${stats.topSpeed.toFixed(1)}</div>
                    <div class="stat-label">Top Speed (files/sec)</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">${stats.avgMemory.toFixed(0)} MB</div>
                    <div class="stat-label">Average Memory</div>
                </div>
            `;
        }
        
        function calculateSummaryStats(data) {
            const totalFiles = data.reduce((sum, d) => sum + d.total_files, 0);
            const avgSuccessRate = data.length > 0 ? 
                data.reduce((sum, d) => sum + d.success_rate, 0) / data.length : 0;
            const topSpeed = Math.max(...data.map(d => d.files_per_second));
            const avgMemory = data.filter(d => d.avg_memory_mb > 0).length > 0 ?
                data.filter(d => d.avg_memory_mb > 0).reduce((sum, d) => sum + d.avg_memory_mb, 0) / 
                data.filter(d => d.avg_memory_mb > 0).length : 0;
            
            return { totalFiles, avgSuccessRate, topSpeed, avgMemory };
        }
        
        function getFilteredData() {
            return data.summary.filter(d => {
                if (frameworkFilter !== 'all' && d.framework !== frameworkFilter) return false;
                if (fileTypeFilter !== 'all' && d.file_type !== fileTypeFilter) return false;
                if (d.success_rate < minSuccessRate) return false;
                return true;
            });
        }
        
        function createHeatmap() {
            const filtered = getFilteredData();
            
            // Create pivot table
            const fileTypes = [...new Set(filtered.map(d => d.file_type))];
            const frameworks = [...new Set(filtered.map(d => d.framework))];
            
            const z = [];
            const hovertext = [];
            
            fileTypes.forEach(ft => {
                const row = [];
                const hoverRow = [];
                frameworks.forEach(fw => {
                    const item = filtered.find(d => d.file_type === ft && d.framework === fw);
                    const value = item ? item[currentMetric] : null;
                    row.push(value);
                    hoverRow.push(item ? 
                        `${ft} - ${fw}<br>${data.metrics[currentMetric]}: ${value?.toFixed(2) || 'N/A'}` :
                        `${ft} - ${fw}<br>No data`
                    );
                });
                z.push(row);
                hovertext.push(hoverRow);
            });
            
            const trace = {
                x: frameworks.map(fw => fw.replace(/_/g, ' ')),
                y: fileTypes.map(ft => ft.toUpperCase()),
                z: z,
                type: 'heatmap',
                colorscale: 'Viridis',
                hovertemplate: '%{hovertext}<extra></extra>',
                hovertext: hovertext
            };
            
            const layout = {
                margin: { t: 20, r: 20, b: 100, l: 100 },
                xaxis: { title: 'Framework' },
                yaxis: { title: 'File Type' }
            };
            
            Plotly.newPlot('heatmapChart', [trace], layout, {responsive: true});
        }
        
        function createBarChart() {
            const filtered = getFilteredData();
            
            // Group by framework
            const frameworks = [...new Set(filtered.map(d => d.framework))];
            const traces = frameworks.map(fw => {
                const fwData = filtered.filter(d => d.framework === fw);
                return {
                    x: fwData.map(d => d.file_type.toUpperCase()),
                    y: fwData.map(d => d[currentMetric]),
                    name: fw.replace(/_/g, ' '),
                    type: 'bar'
                };
            });
            
            const layout = {
                margin: { t: 20, r: 20, b: 100, l: 60 },
                xaxis: { title: 'File Type' },
                yaxis: { title: data.metrics[currentMetric] },
                barmode: 'group'
            };
            
            Plotly.newPlot('barChart', traces, layout, {responsive: true});
        }
        
        function createScatterChart() {
            const filtered = getFilteredData().filter(d => d.files_per_second > 0);
            
            const frameworks = [...new Set(filtered.map(d => d.framework))];
            const traces = frameworks.map(fw => {
                const fwData = filtered.filter(d => d.framework === fw);
                return {
                    x: fwData.map(d => d.files_per_second),
                    y: fwData.map(d => d.success_rate),
                    text: fwData.map(d => d.file_type.toUpperCase()),
                    mode: 'markers+text',
                    textposition: 'top center',
                    name: fw.replace(/_/g, ' '),
                    type: 'scatter',
                    marker: { size: 10 }
                };
            });
            
            const layout = {
                margin: { t: 20, r: 20, b: 60, l: 60 },
                xaxis: { title: 'Speed (files/sec)', type: 'log' },
                yaxis: { title: 'Success Rate (%)' }
            };
            
            Plotly.newPlot('scatterChart', traces, layout, {responsive: true});
        }
        
        function createMemoryChart() {
            const filtered = getFilteredData().filter(d => d.avg_memory_mb > 0);
            
            const trace = {
                x: filtered.map(d => d.avg_memory_mb),
                y: filtered.map(d => d.files_per_second),
                text: filtered.map(d => `${d.file_type.toUpperCase()}<br>${d.framework.replace(/_/g, ' ')}`),
                mode: 'markers+text',
                textposition: 'top center',
                type: 'scatter',
                marker: {
                    size: filtered.map(d => Math.sqrt(d.total_files) * 3),
                    color: filtered.map(d => d.success_rate),
                    colorscale: 'Viridis',
                    colorbar: { title: 'Success Rate (%)' }
                }
            };
            
            const layout = {
                margin: { t: 20, r: 60, b: 60, l: 60 },
                xaxis: { title: 'Memory Usage (MB)' },
                yaxis: { title: 'Speed (files/sec)', type: 'log' }
            };
            
            Plotly.newPlot('memoryChart', [trace], layout, {responsive: true});
        }
        
        function createDetailedChart() {
            const filtered = getFilteredData();
            
            // Create grouped bar chart with multiple metrics
            const fileTypes = [...new Set(filtered.map(d => d.file_type))];
            
            const traces = [
                {
                    x: fileTypes.map(ft => ft.toUpperCase()),
                    y: fileTypes.map(ft => {
                        const ftData = filtered.filter(d => d.file_type === ft);
                        return ftData.length > 0 ? ftData.reduce((sum, d) => sum + d.success_rate, 0) / ftData.length : 0;
                    }),
                    name: 'Success Rate (%)',
                    type: 'bar',
                    yaxis: 'y'
                },
                {
                    x: fileTypes.map(ft => ft.toUpperCase()),
                    y: fileTypes.map(ft => {
                        const ftData = filtered.filter(d => d.file_type === ft && d.files_per_second > 0);
                        return ftData.length > 0 ? ftData.reduce((sum, d) => sum + d.files_per_second, 0) / ftData.length : 0;
                    }),
                    name: 'Avg Speed (files/sec)',
                    type: 'bar',
                    yaxis: 'y2'
                }
            ];
            
            const layout = {
                margin: { t: 20, r: 60, b: 100, l: 60 },
                xaxis: { title: 'File Type' },
                yaxis: { title: 'Success Rate (%)', side: 'left' },
                yaxis2: { title: 'Speed (files/sec)', side: 'right', overlaying: 'y' },
                barmode: 'group'
            };
            
            Plotly.newPlot('detailedChart', traces, layout, {responsive: true});
        }
        
        function updateAllCharts() {
            createHeatmap();
            createBarChart();
            createScatterChart();
            createMemoryChart();
            createDetailedChart();
        }
        
        function setupEventListeners() {
            document.getElementById('metricSelect').addEventListener('change', function(e) {
                currentMetric = e.target.value;
                updateSummaryStats();
                updateAllCharts();
            });
            
            document.getElementById('frameworkFilter').addEventListener('change', function(e) {
                frameworkFilter = e.target.value;
                updateSummaryStats();
                updateAllCharts();
            });
            
            document.getElementById('fileTypeFilter').addEventListener('change', function(e) {
                fileTypeFilter = e.target.value;
                updateSummaryStats();
                updateAllCharts();
            });
            
            document.getElementById('minSuccessRate').addEventListener('change', function(e) {
                minSuccessRate = parseInt(e.target.value);
                updateSummaryStats();
                updateAllCharts();
            });
        }
    </script>
</body>
</html>